--- glib/tests/gdatetime.c.orig	2013-02-22 19:12:04.254926898 +0100
+++ glib/tests/gdatetime.c	2013-02-22 19:42:53.195159124 +0100
@@ -844,7 +844,7 @@
   tt.tm_min = 0;
   tt.tm_hour = 0;
   t = mktime (&tt);
-  g_sprintf (t_str, "%ld", t);
+  g_sprintf (t_str, "%ld", (glong)t);
 
   TEST_PRINTF ("%a", "Sat");
   TEST_PRINTF ("%A", "Saturday");
